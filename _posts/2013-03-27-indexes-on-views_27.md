---
layout: post
title: Indexes on Views
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div align="justify">I tried to create an Index on View. Then SQL Server said I have to alter that index as a schema-bound view. Then I created a Schema Bound View.</div><div align="justify"><br /></div><pre class="code"><span style="color: blue;">USE </span><span style="color: teal;">AdventureWorks2012</span><span style="color: blue;">GO<br /><br />CREATE VIEW </span><span style="color: teal;">[dbo]</span><span style="color: grey;">.</span><span style="color: teal;">[vHR] </span><span style="color: blue;">WITH SCHEMABINDING <br />AS <br />    SELECT <br />        </span><span style="color: teal;">BusinessEntityID </span><span style="color: blue;">AS </span><span style="color: teal;">A</span><span style="color: grey;">,<br />        </span><span style="color: teal;">NationalIDNumber </span><span style="color: blue;">AS </span><span style="color: teal;">B</span><span style="color: grey;">,<br />        </span><span style="color: teal;">LoginID </span><span style="color: blue;">AS </span><span style="color: teal;">C<br />    </span><span style="color: blue;">FROM </span><span style="color: teal;">HumanResources</span><span style="color: grey;">.</span><span style="color: teal;">Employee</span><span style="color: blue;">GO</span></pre><br />Then I created Index on that View.<br /><br /><pre class="code"><span style="color: blue;">CREATE UNIQUE CLUSTERED INDEX </span><span style="color: teal;">UCI_vHR </span><span style="color: blue;">ON </span><span style="color: teal;">vHR</span><span style="color: grey;">(</span><span style="color: teal;">A</span><span style="color: grey;">,</span><span style="color: teal;">B</span><span style="color: grey;">)</span><span style="color: blue;">GO</span></pre><br />Then after that, I altered index. And my index got disappeared suddenly.<br /><br /><pre class="code"><span style="color: blue;">ALTER VIEW </span><span style="color: teal;">[dbo]</span><span style="color: grey;">.</span><span style="color: teal;">[vHR] </span><span style="color: blue;">WITH SCHEMABINDING <br />AS <br />    SELECT <br />        </span><span style="color: teal;">BusinessEntityID </span><span style="color: blue;">AS </span><span style="color: teal;">A</span><span style="color: grey;">,<br />        </span><span style="color: teal;">NationalIDNumber </span><span style="color: blue;">AS </span><span style="color: teal;">B<br />    </span><span style="color: blue;">FROM </span><span style="color: teal;">HumanResources</span><span style="color: grey;">.</span><span style="color: teal;">Employee</span><span style="color: blue;">GO</span></pre><br />Then I ran below query to confirm that index got disappeared forever.<br /><br /><pre class="code"><span style="color: blue;">SELECT </span><span style="color: grey;">* </span><span style="color: blue;">FROM </span><span style="color: green;">sys</span><span style="color: grey;">.</span><span style="color: green;">indexes </span><span style="color: blue;">WHERE </span><span style="color: teal;">name </span><span style="color: grey;">= </span><span style="color: red;">'UCI_vHR'</span></pre><br />I got nothing as a result.&nbsp;As soon as I figured this out, I hope to write about this again.</div>

### Tags

- SQL
- SQL Server 2012
- T-SQL
- TSQL
- SQL Server
