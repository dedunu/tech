---
layout: post
title: "Change default keyspace of Titan DB on Cassandra"
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div style="text-align: justify;">A long time ago I have posted about<a href="http://www.dedunu.info/2012/12/titan-with-cassandra.html" target="_blank"> how to use Titan with Cassandra</a>. But it will only use a database called "titan". Sometimes you may want to use two different databases in Cassandra backend. In that case, we have to use Cassandra Specific Configurations.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">You can find all of <a href="https://github.com/thinkaurelius/titan/wiki/Using-Cassandra" target="_blank">Cassandra specific Titan Graph Configurations here</a>.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">To change the database(I'm sorry I have used the word database instead of the keyspace.), I'll change&nbsp;<span style="background-color: #f8f8f8; color: #333333; font-family: &quot;helvetica&quot; , &quot;arial&quot; , &quot;freesans&quot; , &quot;clean&quot; , sans-serif; font-size: 15px; line-height: 25px;">storage.keyspace.&nbsp;</span>But this is not a modifiable setting. That means once you have used one value for a graph, you can't change it next time when you log in. This is how they mention it.</div><div style="text-align: justify;"><br /></div><blockquote class="tr_bq"><div style="text-align: justify;"><span style="background-color: white; color: #333333; font-family: &quot;helvetica&quot; , &quot;arial&quot; , &quot;freesans&quot; , &quot;clean&quot; , sans-serif; font-size: 15px; line-height: 25px;">It is very important to note that some configuration options should&nbsp;</span><strong style="background-color: white; border: 0px; color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px; margin: 0px; padding: 0px;"><span class="caps" style="border: 0px; margin: 0px; padding: 0px;">NEVER</span></strong><span style="background-color: white; color: #333333; font-family: &quot;helvetica&quot; , &quot;arial&quot; , &quot;freesans&quot; , &quot;clean&quot; , sans-serif; font-size: 15px; line-height: 25px;">&nbsp;be modified after the&nbsp;</span><code style="background-color: #f8f8f8; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(221, 221, 221); color: #333333; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; margin: 0px 2px; padding: 0px 5px; white-space: nowrap;">TitanGraph</code><span style="background-color: white; color: #333333; font-family: &quot;helvetica&quot; , &quot;arial&quot; , &quot;freesans&quot; , &quot;clean&quot; , sans-serif; font-size: 15px; line-height: 25px;">&nbsp;is first initialized. Doing so may corrupt the graph or lead to unexpected behavior.</span><span style="background-color: white; color: #333333; font-family: &quot;helvetica&quot; , &quot;arial&quot; , &quot;freesans&quot; , &quot;clean&quot; , sans-serif; font-size: 15px; line-height: 25px;">--&nbsp;</span><a href="https://github.com/thinkaurelius/titan/wiki/Graph-Configuration" target="_blank">https://github.com/thinkaurelius/titan/wiki/Graph-Configuration</a></div></blockquote><div style="text-align: justify;">I'll give code on how to connect to a Titan DB with different keyspace(database). First, go to Cassandra bin and run.</div><div style="text-align: justify;"><span style="background-color: white; color: #222222; font-family: &quot;ubuntu&quot; , sans-serif; font-size: 18px; line-height: 24px;">Linux:</span></div><blockquote class="tr_bq" style="background-color: white; color: #222222; font-family: Ubuntu, sans-serif; font-size: 18px; line-height: 24px;"><div style="text-align: justify;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bash cassandra</span></div></blockquote><div style="text-align: justify;"><br style="background-color: white; color: #222222; font-family: Ubuntu, sans-serif; font-size: 18px; line-height: 24px;" /></div><div style="text-align: justify;"><span style="background-color: white; color: #222222; font-family: &quot;ubuntu&quot; , sans-serif; font-size: 18px; line-height: 24px;">Windows:</span></div><blockquote class="tr_bq" style="background-color: white; color: #222222; font-family: Ubuntu, sans-serif; font-size: 18px; line-height: 24px;"><div style="text-align: justify;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">cassandra.bat</span></div></blockquote><div style="text-align: justify;"><br style="background-color: white; color: #222222; font-family: Ubuntu, sans-serif; font-size: 18px; line-height: 24px;" /></div><div style="text-align: justify;"><span style="background-color: white; color: #222222; font-family: &quot;ubuntu&quot; , sans-serif; font-size: 18px; line-height: 24px;">Then take gremlin from titan bin.</span></div><div style="text-align: justify;"><br style="background-color: white; color: #222222; font-family: Ubuntu, sans-serif; font-size: 18px; line-height: 24px;" /></div><div style="text-align: justify;"><span style="background-color: white; color: #222222; font-family: &quot;ubuntu&quot; , sans-serif; font-size: 18px; line-height: 24px;">Linux:</span></div><blockquote class="tr_bq" style="background-color: white; color: #222222; font-family: Ubuntu, sans-serif; font-size: 18px; line-height: 24px;"><div style="text-align: justify;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bash gremlin.sh</span></div></blockquote><div style="text-align: justify;"><span style="background-color: white; color: #222222; font-family: &quot;ubuntu&quot; , sans-serif; font-size: 18px; line-height: 24px;">Windows:</span></div><blockquote class="tr_bq" style="background-color: white; color: #222222; font-family: Ubuntu, sans-serif; font-size: 18px; line-height: 24px;"><div style="text-align: justify;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">gremlin.bat</span></div></blockquote><div style="text-align: justify;"><span style="background-color: white; color: #222222; font-family: &quot;ubuntu&quot; , sans-serif; font-size: 18px; line-height: 24px;">Then you have to configure storage backend. for that use following commands on gremlin.</span></div><blockquote class="tr_bq" style="background-color: white; color: #222222; font-family: Ubuntu, sans-serif; font-size: 18px; line-height: 24px;"><div style="text-align: justify;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">cnf = new BaseConfiguration();</span></div><div style="text-align: justify;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">cnf.setProperty('storage.backend','cassandra');</span></div><div style="text-align: justify;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">cnf.setProperty('storage.hostname','127.0.0.1');</span></div><div style="text-align: justify;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">cnf.setProperty('storage.keyspace','graph1');</span></div><div style="text-align: justify;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">g = TitanFactory.open(cnf);</span></div></blockquote><div style="text-align: justify;"><span style="background-color: white; color: #222222; font-family: &quot;ubuntu&quot; , sans-serif; font-size: 18px; line-height: 24px;"></span>&nbsp;In this case, I have used Cassandra Local host instance. And the keyspace that I'm going to use with graph database is "graph1". You don't need to get limited to one keyspace on one instance!</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Those two links will help you if you are going to try Titan for the first time!</div><ul style="text-align: left;"><li style="text-align: justify;"><a href="http://www.dedunu.info/2012/12/titan-with-cassandra.html" target="_blank">Titan with Cassandra</a></li><li style="text-align: justify;"><a href="http://www.dedunu.info/2012/12/getting-started-with-titan-graph.html" target="_blank">Getting started with Titan Graph DB</a></li></ul><div style="text-align: justify;">Enjoy Graphs!</div></div>

### Tags

- Titan DB
- Titan and Cassandra
- Titan